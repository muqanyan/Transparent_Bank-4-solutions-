В баре сидят три курильщика - ценители, самокруток из табака и бумаги. Каждому из них что-нибудь не хватает для полного счастья. Первый (Т) забыл дома табак, второй (Р) - бумагу, третий (М) - спички. видя страдания курильщиков, бармен периодически роется среди своих вещей и что-нибудь находит, выдавая недостающий предмет одному из курильщиков.
Как только табак бумага и спички у Бармена заканчиваются он всех выгоняет разрешая докурить самокрутку тому, кто уже успел закурить. 
Смоделируйте эту задачу. Каждый персонаж отдельный ПРОЦЕСС три курильщика и бармен.
 На стандартный поток ввода подаётся последовательность латинских букв t, p. и m вещи, которые удаётся найти бармену, чтобы осчастливить одного из курильщиков, как только последовательность букв заканчивается то бармен всех выгоняет, отправляя им сигнал sigterm.
Каждый курильщик получив недостающий предмет выкуривается самокрутку, записывая на стандартный поток вывода одну из букв латинского алфавита T, P или M что ему не хватало.
Бармен может взаимодействовать одновременно только с одним курильщиком. Пока курильщики заняты своим делом и не нуждаются в помощи, он отдыхает. 
когда курильщики выкуривают самокрутку, они должны игнорировать просьбы Бармена покинуть помещение, А моделирующие их процессы завершить свою работу, после того, как будет завершена операция вывода символа.

для реализации используйте семафоры posix
